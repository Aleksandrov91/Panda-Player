@model Panda_Player.Models.ViewModels.SongDetailsModel
@using Panda_Player.Models;
<h2>Details</h2>

<div>
    <h4>Song</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Artist)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Artist)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Title)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Title)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Genre)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Genre)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.UploadDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.UploadDate.Date)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Uploader)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Uploader.FullName)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Tags)
        </dt>

        <dd>
            @foreach (var tag in Model.Tags)
            {
                @Html.ActionLink(tag.Name, "Details", "Tag", new { @id = tag.id },
                        new { @class = "btn btn-default btn--xs" })
            }
        </dd>

    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "SongToBeEdited", "User", new { id = Model.Id }, null) |
    @{
        var db = new ApplicationDbContext();
        var userId = db.Songs.Where(s => s.Id == Model.Id).Select(u => u.UploaderId).FirstOrDefault();
    }
    @Html.ActionLink("Back to user songs", "SongsEdit", "User", new { id = userId }, null)
</p>